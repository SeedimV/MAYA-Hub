package me.seedim.mayaHub.Listeners;

import me.seedim.mayaHub.MayaHub;
import org.bukkit.damage.DamageType;
import org.bukkit.entity.Player;
import org.bukkit.event.EventHandler;
import org.bukkit.event.Listener;
import org.bukkit.event.entity.EntityDamageEvent;
import org.bukkit.event.entity.FoodLevelChangeEvent;

public class InvulnerabilityListener implements Listener {

    // Disable hunger
    @EventHandler
    public void onHungerChange(FoodLevelChangeEvent event) {

        // Check if hunger is enabled
        if (!MayaHub.getInstance().getConfig().getBoolean("disable-hunger", true)) {
            return;
        }

        // Cancel event
        event.setCancelled(true);
    }

    // Disable player damage
    @EventHandler
    public void onPlayerDamage(EntityDamageEvent event) {

        // Check if player damage is enabled
        if (!MayaHub.getInstance().getConfig().getBoolean("disable-player-damage", true)) {
            return;
        }

        // Let player die if they fall out of the world
        if (event.getDamageSource().getDamageType().equals(DamageType.OUT_OF_WORLD) && MayaHub.getInstance().getConfig().getBoolean("do-void-damage", true)) {
            return;
        }

        // Check if entity is a player, then disable event
        if (event.getEntity() instanceof Player) {
            event.setCancelled(true);
        }
    }

}
